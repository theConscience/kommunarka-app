(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{266:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAyNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNjcgMC45Mjk5OTNMMC4yNSA3LjE0OTk5VjguNTc5OTlMNi42NyAxNC44TDguMjQgMTMuMTRMNC4wOSA5LjA4OTk5SDI0LjM5VjYuNjM5OTlINC4wOUw4LjI0IDIuNTk5OTlMNi42NyAwLjkyOTk5M1oiIGZpbGw9IiNmZmZmZmYiLz4KPC9zdmc+Cg=="},269:function(e,t,n){var content=n(280);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("a1d77e50",content,!0,{sourceMap:!1})},279:function(e,t,n){"use strict";n(269)},280:function(e,t,n){var o=n(28),r=n(58),l=n(59),c=n(60),f=n(266);t=o(!1);var m=r(l),d=r(c),_=r(f);t.push([e.i,'@font-face{font-family:"MonoCondensedC";font-style:normal;font-weight:400;font-display:swap;src:url('+m+') format("woff")}@font-face{font-family:"GaramondNarrowC";font-style:normal;font-weight:400;font-display:swap;src:url('+d+') format("woff")}.page__link,.page__title{position:relative;display:inline-block;font-family:"MonoCondensedC","Andale Mono",AndaleMono,"Lucida Console","Lucida Sans Typewriter",monospace;font-size:2.25rem;margin:0 0 2.5vh;text-transform:uppercase;text-decoration:none;color:#fff}.page__link:focus,.page__link:hover,.page__title:focus,.page__title:hover{text-decoration:none}.page__link:after,.page__title:after{content:"";position:absolute;left:0;bottom:.3125vh;width:100%;height:1px;background-color:#fff}@media screen and (min-width:600px){.page__link:after,.page__title:after{height:2px}}.page__link{margin-bottom:8.75vh}.page__link--back{margin-left:3.33333333333vw}.page__link--back:before{content:"";position:absolute;width:2.22222222222vw;height:1.25vh;left:-3.33333333333vw;top:41%;transform:translateY(-50%);background-image:url('+_+');background-size:contain;background-position:50%;background-repeat:no-repeat}.person{background-color:#000}.profile{display:flex;flex-flow:row wrap;align-items:flex-start;justify-content:space-between;width:100%}.profile__col{display:flex;flex-flow:column wrap;flex-grow:1;flex-basis:50%;align-items:stretch;width:50%;padding:.9375vh 1.666666666665vw}.profile__col--first{padding-left:0}.profile__col--last{padding-right:0}.profile__name{font-family:"GaramondNarrowC",Garamond,Baskerville,"Baskerville Old Face",serif;font-size:3.75rem;font-weight:200;line-height:1;margin:0 0 1.25vh}.profile__bio{font-family:"GaramondNarrowC",Garamond,Baskerville,"Baskerville Old Face",serif;flex-basis:75%}.profile__bio,.profile__info{font-size:1.875rem;line-height:1.2}.profile__info{font-family:"MonoCondensedC","Andale Mono",AndaleMono,"Lucida Console","Lucida Sans Typewriter",monospace;list-style:none;text-align:right;margin-bottom:1.875vh}',""]),e.exports=t},300:function(e,t,n){"use strict";n.r(t);n(24),n(39),n(188),n(25),n(120),n(52),n(17),n(62),n(63),n(49),n(40),n(74),n(30),n(50);var o=n(23),r=(n(51),n(6)),l=n(36);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("fetch called!"),e.currentPerson){t.next=20;break}return console.log("no person data loaded, making an API call where ID: ".concat(e.id)),t.next=5,e.$content("victims").where({id:e.id}).fetch();case 5:if(n=t.sent,console.log("loaded victim in arr:",n),!n.length){t.next=19;break}return o=n[0],console.log("victimObj:",o),r=o.name.charAt(0).toLowerCase(),console.log("victimGroup:",r),e.victims[r]?e.setVictim([r,o]):e.setVictimsGroup([r,[o]]),t.next=15,e.$content("victims").where({slug:r}).fetch();case 15:l=t.sent,e.setVictimsGroup([r,l]),t.next=20;break;case 19:console.warn("Victim not found in API!");case 20:case"end":return t.stop()}}),t)})))()},data:function(){return{victim:{name:"",birthday:"",bio:"",death:"",img:"",title:""}}},computed:f(f({},Object(l.c)("victims",["victims"])),{},{allVictims:function(){return this.victims.all},id:function(){return parseInt(this.$route.params.id)},personalNumber:function(){return this.id+1},currentPerson:function(){var e=this;return this.allVictims.find((function(t){return t.id===e.id}))},currentPersonDeathDate:function(){return this.currentPerson.death.split("/").map((function(e,i,t){return i===t.length-1?"19"+e:e})).join(".")}}),mounted:function(){var e=this;this.$nextTick((function(){e.$nuxt.$loading.start(),setTimeout((function(){return e.$nuxt.$loading.finish()}),500)}))},methods:f({},Object(l.b)("victims",["setVictim","setVictimsGroup"])),head:function(){return{title:"личное дело #"+this.personalNumber,meta:[{hid:"description",name:"description",content:"Личное дело #"+this.personalNumber}]}}},d=(n(279),n(22)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"page page--person person"},[n("nuxt-link",{staticClass:"page__link page__link--back",attrs:{to:"/search"}},[e._v("\n    Назад к поиску\n  ")]),e._v(" "),e.currentPerson?[n("section",{staticClass:"person__profile profile"},[n("div",{staticClass:"profile__col profile__col--first"},[n("h1",{staticClass:"profile__name"},[e._v(e._s(e.currentPerson.name))]),e._v(" "),n("p",{staticClass:"profile__bio"},[e._v(e._s(e.currentPerson.bio))])]),e._v(" "),n("div",{staticClass:"profile__col profile__col--last"},[n("ul",{staticClass:"profile__info"},[n("li",{staticClass:"profile__info-part"},[e._v("\n            Год рождения: "+e._s(e.currentPerson.birthday)+"\n          ")]),e._v(" "),n("li",{staticClass:"profile__info-part"},[e._v("\n            Дата смерти: "+e._s(e.currentPersonDeathDate)+"\n          ")])]),e._v(" "),n("img",{staticClass:"profile__img img-responsive",attrs:{src:"/kommunarka-app/media/"+e.currentPerson.img,alt:e.currentPerson.title}})])])]:[n("h1",[e._v("Личное дело №0: неизвестный")]),e._v(" "),n("p",[e._v("Неизвестный погибший...")])]],2)}),[],!1,null,null,null);t.default=component.exports}}]);